{"version":3,"sources":["constantStart.js"],"names":[],"mappings":"AAAA,IAAI,SAAS,QAAQ,iBAAR,CAAb;AACA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,cAAc,QAAQ,WAA1B;AACA,IAAI,WAAW,OAAO,GAAP,EAAY,QAA3B;AACA,IAAI,MAAM,SAAS,QAAT,GAAoB,SAAS,MAA7B,GAAsC,SAAS,MAA/C,GAAwD,SAAS,MAA3E;AACA,IAAI,gBAAgB,QAAQ,SAAR,CAAkB,YAAY,OAA9B,CAApB;AACA,OAAO,MAAP,GAAgB,QAAQ,QAAR,CAAhB;;AAEA,SAAS,aAAT,CAAuB,QAAvB,EAAiC;AAC7B,WAAO,cAAc,GAAd,EAAmB,IAAnB,GAA0B,OAA1B,CAAkC,UAAU,GAAV,EAAe,EAAf,EAAmB;AACxD,iBAAS,GAAT,EAAc,EAAd,EAAkB,YAAY;AAC1B,eAAG,KAAH;AACH,SAFD;AAGH,KAJM,CAAP;AAKH;;AAED,OAAO,UAAP,GAAoB,UAAU,OAAV,EAAmB,QAAnB,EAA6B;AAC7C,kBAAc,UAAU,GAAV,EAAe,EAAf,EAAmB,EAAnB,EAAuB;AAClC,WAAG,UAAH,CAAc,QAAQ,GAAtB,EAA2B,UAA3B,CAAsC,QAAQ,IAA9C,EAAoD,UAAU,KAAV,EAAiB,MAAjB,EAAyB;AACzE,mBAAO,KAAP,CAAa,KAAb,EAAoB,IAApB;AACA;AACA,qBAAS,KAAT,EAAgB,MAAhB;AACH,SAJD;AAKF,KAND;AAOH,CARD;;AAUA","file":"constantStart-compiled.js","sourcesContent":["var config = require('../config/index');\r\nvar MongoDB = require('mongodb');\r\nvar Promise = require('promise');\r\nvar MongoClient = MongoDB.MongoClient;\r\nvar dbconfig = config[env].dbconfig;\r\nvar url = dbconfig.dbportol + dbconfig.dbhost + dbconfig.dbport + dbconfig.dbname;\r\nvar mongodConnect = Promise.denodeify(MongoClient.connect);\r\nglobal.assert = require('assert');\r\n\r\nfunction getConnection(callback) {\r\n    return mongodConnect(url).then().nodeify(function (err, db) {\r\n        callback(err, db, function () {\r\n            db.close();\r\n        });\r\n    });\r\n};\r\n\r\nglobal.insertMany = function (options, callback) {\r\n    getConnection(function (err, db, cb) {\r\n       db.collection(options.doc).insertMany(options.data, function (error, result) {\r\n           assert.equal(error, null);\r\n           cb();\r\n           callback(error, result);\r\n       });\r\n    });\r\n};\r\n\r\n// require('../routes/spider/index').spideSite('https://cnodejs.org/');"]}